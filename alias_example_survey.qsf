{"SurveyEntry":{"SurveyID":"SV_cC2onlqSJnWBJfE","SurveyName":"Alias example survey","SurveyDescription":null,"SurveyOwnerID":"UR_bHQvGc7bZmrpD45","SurveyBrandID":"qualtricsxmch9cszd57","DivisionID":null,"SurveyLanguage":"EN","SurveyActiveResponseSet":"RS_6sfcMcrLlf6AcgC","SurveyStatus":"Inactive","SurveyStartDate":"0000-00-00 00:00:00","SurveyExpirationDate":"0000-00-00 00:00:00","SurveyCreationDate":"2024-03-05 08:37:13","CreatorID":"UR_bHQvGc7bZmrpD45","LastModified":"2024-03-05 09:01:27","LastAccessed":"0000-00-00 00:00:00","LastActivated":"0000-00-00 00:00:00","Deleted":null},"SurveyElements":[{"SurveyID":"SV_cC2onlqSJnWBJfE","Element":"BL","PrimaryAttribute":"Survey Blocks","SecondaryAttribute":null,"TertiaryAttribute":null,"Payload":[{"Type":"Default","Description":"Default Question Block","ID":"BL_ddvnIQJ7x8ycnD8","BlockElements":[{"Type":"Question","QuestionID":"QID1"},{"Type":"Question","QuestionID":"QID7"},{"Type":"Question","QuestionID":"QID2"}]},{"Type":"Trash","Description":"Trash \/ Unused Questions","ID":"BL_6DarQFjyUYp6P6S","BlockElements":[],"Options":{"BlockLocking":"false","RandomizeQuestions":"false","BlockVisibility":"Collapsed"}}]},{"SurveyID":"SV_cC2onlqSJnWBJfE","Element":"FL","PrimaryAttribute":"Survey Flow","SecondaryAttribute":null,"TertiaryAttribute":null,"Payload":{"Type":"Root","FlowID":"FL_1","Flow":[{"Type":"Block","ID":"BL_ddvnIQJ7x8ycnD8","FlowID":"FL_2","Autofill":[]},{"Type":"EmbeddedData","FlowID":"FL_10","EmbeddedData":[{"Description":"alias_participant_id","Type":"Recipient","Field":"alias_participant_id","VariableType":"String","DataVisibility":[],"AnalyzeText":false}]}],"Properties":{"Count":10,"RemovedFieldsets":[]}}},{"SurveyID":"SV_cC2onlqSJnWBJfE","Element":"PL","PrimaryAttribute":"Preview Link","SecondaryAttribute":null,"TertiaryAttribute":null,"Payload":{"PreviewType":"Brand","PreviewID":"f2280045-5957-453a-897e-259d31f41b59"}},{"SurveyID":"SV_cC2onlqSJnWBJfE","Element":"SO","PrimaryAttribute":"Survey Options","SecondaryAttribute":null,"TertiaryAttribute":null,"Payload":{"BackButton":"false","SaveAndContinue":"true","SurveyProtection":"PublicSurvey","BallotBoxStuffingPrevention":"false","NoIndex":"Yes","SecureResponseFiles":"true","SurveyExpiration":"None","SurveyTermination":"DefaultMessage","Header":"","Footer":"","ProgressBarDisplay":"None","PartialData":"+1 week","ValidationMessage":"","PreviousButton":"","NextButton":"","SurveyTitle":"Qualtrics Survey | Qualtrics Experience Management","SkinLibrary":"qualtricsxmch9cszd57","SkinType":"templated","Skin":{"brandingId":null,"templateId":"*base","overrides":null},"NewScoring":1,"SurveyMetaDescription":"The most powerful, simple and trusted way to gather experience data. Start your journey to experience management and try a free account today.","SurveyName":"Alias example survey"}},{"SurveyID":"SV_cC2onlqSJnWBJfE","Element":"SCO","PrimaryAttribute":"Scoring","SecondaryAttribute":null,"TertiaryAttribute":null,"Payload":{"ScoringCategories":[],"ScoringCategoryGroups":[],"ScoringSummaryCategory":null,"ScoringSummaryAfterQuestions":0,"ScoringSummaryAfterSurvey":0,"DefaultScoringCategory":null,"AutoScoringCategory":null}},{"SurveyID":"SV_cC2onlqSJnWBJfE","Element":"PROJ","PrimaryAttribute":"CORE","SecondaryAttribute":null,"TertiaryAttribute":"1.1.0","Payload":{"ProjectCategory":"CORE","SchemaVersion":"1.1.0"}},{"SurveyID":"SV_cC2onlqSJnWBJfE","Element":"STAT","PrimaryAttribute":"Survey Statistics","SecondaryAttribute":null,"TertiaryAttribute":null,"Payload":{"MobileCompatible":true,"ID":"Survey Statistics"}},{"SurveyID":"SV_cC2onlqSJnWBJfE","Element":"QC","PrimaryAttribute":"Survey Question Count","SecondaryAttribute":"7","TertiaryAttribute":null,"Payload":null},{"SurveyID":"SV_cC2onlqSJnWBJfE","Element":"RS","PrimaryAttribute":"RS_6sfcMcrLlf6AcgC","SecondaryAttribute":"Default Response Set","TertiaryAttribute":null,"Payload":null},{"SurveyID":"SV_cC2onlqSJnWBJfE","Element":"SQ","PrimaryAttribute":"QID2","SecondaryAttribute":"How old are you?","TertiaryAttribute":null,"Payload":{"QuestionText":"How old are you?","DefaultChoices":false,"DataExportTag":"Q3","QuestionType":"MC","Selector":"SAVR","SubSelector":"TX","Configuration":{"QuestionDescriptionOption":"UseText"},"QuestionDescription":"How old are you?","Choices":{"1":{"Display":"18-30"},"2":{"Display":"31-50"},"3":{"Display":"51+"}},"ChoiceOrder":["1","2","3"],"Validation":{"Settings":{"ForceResponse":"OFF","Type":"None"}},"GradingData":[],"Language":[],"NextChoiceId":4,"NextAnswerId":1,"QuestionID":"QID2","QuestionJS":"const qualtrics_key = '' \/\/ Add string here\nconst survey_id = '' \/\/ Add string here\n\nQualtrics.SurveyEngine.addOnPageSubmit(function (event) {\n    const participant_id = Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);\n    Qualtrics.SurveyEngine.setEmbeddedData(\"alias_participant_id\", participant_id);\n    const questions = JSON.parse(sessionStorage.getItem('questions'));\n    const question_histories = JSON.parse(sessionStorage.getItem('question_histories'));\n    const responses = JSON.parse(sessionStorage.getItem('responses'));\n    sessionStorage.removeItem('questions');\n    sessionStorage.removeItem('question_histories');\n    sessionStorage.removeItem('responses');\n    const alias_data = { questions, question_histories, responses, participant_id, survey_id, alias_model: 'alias-v013' };\n    fetch('https:\/\/roundtable.ai\/api\/qualtrics', {\n        method: 'POST',\n        mode: 'cors',\n        cache: \"default\",\n        headers: {\n            'Content-Type': 'application\/json',\n            'qualtrics_key': qualtrics_key,\n        },\n        body: JSON.stringify(alias_data),\n    })\n});","DataVisibility":{"Private":false,"Hidden":false}}},{"SurveyID":"SV_cC2onlqSJnWBJfE","Element":"SQ","PrimaryAttribute":"QID1","SecondaryAttribute":"Tell us about yourself","TertiaryAttribute":null,"Payload":{"QuestionText":"Tell us about yourself","DefaultChoices":false,"DataExportTag":"Q1","QuestionID":"QID1","QuestionType":"TE","Selector":"ML","Configuration":{"QuestionDescriptionOption":"UseText","InputWidth":680,"InputHeight":105},"QuestionDescription":"Tell us about yourself","Validation":{"Settings":{"ForceResponse":"OFF","Type":"None"}},"GradingData":[],"Language":[],"NextChoiceId":4,"NextAnswerId":1,"SearchSource":{"AllowFreeResponse":"false"},"DataVisibility":{"Private":false,"Hidden":false},"QuestionJS":"const max_characters_for_history = 20000;\nlet question_history;\nlet question_id;\n\nconst mergeDictionaries = (dict1, dict2) => {\n    let merged = {};\n    for (let key in dict1) merged[key] = dict1[key];\n    for (let key in dict2) merged[key] = dict2[key];\n    return merged;\n}\n\nconst setQuestionText = (question_text, question_id) => {\n    let questions = sessionStorage.getItem('questions');\n    questions = questions ? JSON.parse(questions) : {};\n    if (!questions[question_id]) {\n        questions[question_id] = question_text;\n        sessionStorage.setItem('questions', JSON.stringify(questions));\n    }\n}\n\nconst initializeHistoryForQuestionAndGet = (question_id) => {\n    let parsed_question_histories = sessionStorage.getItem('question_histories');\n    parsed_question_histories = parsed_question_histories ? JSON.parse(parsed_question_histories) : {};\n    if (!parsed_question_histories[question_id]) {\n        parsed_question_histories[question_id] = [];\n        sessionStorage.setItem('question_histories', JSON.stringify(parsed_question_histories));\n    }\n    return parsed_question_histories[question_id];\n}\n\nconst setQuestionHistory = (question_id, question_history) => {\n    let parsed_question_histories = sessionStorage.getItem('question_histories');\n    parsed_question_histories = parsed_question_histories ? JSON.parse(parsed_question_histories) : {};\n    parsed_question_histories[question_id] = question_history;\n    sessionStorage.setItem('question_histories', JSON.stringify(parsed_question_histories));\n}\n\nconst initializeResponses = (question_id) => {\n    let parsed_responses = sessionStorage.getItem('responses');\n    parsed_responses = parsed_responses ? JSON.parse(parsed_responses) : {};\n    if (!parsed_responses[question_id]) {\n        parsed_responses[question_id] = '';\n        sessionStorage.setItem('responses', JSON.stringify(parsed_responses));\n    }\n}\n\nconst setResponses = (question_id, response) => {\n    let parsed_responses = sessionStorage.getItem('responses');\n    parsed_responses = parsed_responses ? JSON.parse(parsed_responses) : {};\n    parsed_responses[question_id] = response;\n    sessionStorage.setItem('responses', JSON.stringify(parsed_responses));\n}\n\nQualtrics.SurveyEngine.addOnload(function () {\n    question_id = this.questionId;\n    setQuestionText(this.getQuestionInfo().QuestionText, question_id);\n    question_history = initializeHistoryForQuestionAndGet(question_id);\n    initializeResponses(question_id);\n    const questionContainer = this.getQuestionContainer();\n    const questionInput = questionContainer.querySelector('textarea, input');\n    let text_over_limit = false;\n    let start_time;\n    let t;\n\n    questionInput.addEventListener('input', function (e) {\n        setResponses(question_id, e.target.value);\n        if (text_over_limit) return;\n        if (!start_time) {\n            t = 0;\n            start_time = Date.now();\n        } else {\n            t = Date.now() - start_time;\n        }\n        const new_history = { s: e.target.value, t }\n        const length_of_history = JSON.stringify([...question_history, new_history]).length;\n        if (length_of_history > max_characters_for_history) {\n            text_over_limit = true;\n            return;\n        }\n        question_history.push(new_history);\n        setQuestionHistory(question_id, question_history);\n    });\n\n    questionInput.addEventListener('copy', function (e) {\n        if (text_over_limit) return;\n        if (!start_time) {\n            t = 0;\n            start_time = Date.now();\n        } else {\n            t = Date.now() - start_time;\n        }\n        const selection = window.getSelection().toString();\n        if (!selection) return;\n        const new_history = { s: selection, o: 'c', t }\n        const length_of_history = JSON.stringify([...question_history, new_history]).length;\n        if (length_of_history > max_characters_for_history) {\n            text_over_limit = true;\n            return;\n        }\n        question_history.push(new_history);\n        setQuestionHistory(question_id, question_history);\n    });\n});"}},{"SurveyID":"SV_cC2onlqSJnWBJfE","Element":"SQ","PrimaryAttribute":"QID7","SecondaryAttribute":"What words would you use to describe this product?","TertiaryAttribute":null,"Payload":{"QuestionText":"What words would you use to describe this product?","DefaultChoices":false,"DataExportTag":"Q2","QuestionType":"TE","Selector":"SL","DataVisibility":{"Private":false,"Hidden":false},"Configuration":{"QuestionDescriptionOption":"UseText"},"QuestionDescription":"What words would you use to describe this product?","Validation":{"Settings":{"ForceResponse":"OFF","Type":"None"}},"GradingData":[],"Language":[],"NextChoiceId":4,"NextAnswerId":1,"SearchSource":{"AllowFreeResponse":"false"},"QuestionID":"QID7","QuestionJS":"const max_characters_for_history = 20000;\nlet question_history;\nlet question_id;\n\nconst mergeDictionaries = (dict1, dict2) => {\n    let merged = {};\n    for (let key in dict1) merged[key] = dict1[key];\n    for (let key in dict2) merged[key] = dict2[key];\n    return merged;\n}\n\nconst setQuestionText = (question_text, question_id) => {\n    let questions = sessionStorage.getItem('questions');\n    questions = questions ? JSON.parse(questions) : {};\n    if (!questions[question_id]) {\n        questions[question_id] = question_text;\n        sessionStorage.setItem('questions', JSON.stringify(questions));\n    }\n}\n\nconst initializeHistoryForQuestionAndGet = (question_id) => {\n    let parsed_question_histories = sessionStorage.getItem('question_histories');\n    parsed_question_histories = parsed_question_histories ? JSON.parse(parsed_question_histories) : {};\n    if (!parsed_question_histories[question_id]) {\n        parsed_question_histories[question_id] = [];\n        sessionStorage.setItem('question_histories', JSON.stringify(parsed_question_histories));\n    }\n    return parsed_question_histories[question_id];\n}\n\nconst setQuestionHistory = (question_id, question_history) => {\n    let parsed_question_histories = sessionStorage.getItem('question_histories');\n    parsed_question_histories = parsed_question_histories ? JSON.parse(parsed_question_histories) : {};\n    parsed_question_histories[question_id] = question_history;\n    sessionStorage.setItem('question_histories', JSON.stringify(parsed_question_histories));\n}\n\nconst initializeResponses = (question_id) => {\n    let parsed_responses = sessionStorage.getItem('responses');\n    parsed_responses = parsed_responses ? JSON.parse(parsed_responses) : {};\n    if (!parsed_responses[question_id]) {\n        parsed_responses[question_id] = '';\n        sessionStorage.setItem('responses', JSON.stringify(parsed_responses));\n    }\n}\n\nconst setResponses = (question_id, response) => {\n    let parsed_responses = sessionStorage.getItem('responses');\n    parsed_responses = parsed_responses ? JSON.parse(parsed_responses) : {};\n    parsed_responses[question_id] = response;\n    sessionStorage.setItem('responses', JSON.stringify(parsed_responses));\n}\n\nQualtrics.SurveyEngine.addOnload(function () {\n    question_id = this.questionId;\n    setQuestionText(this.getQuestionInfo().QuestionText, question_id);\n    question_history = initializeHistoryForQuestionAndGet(question_id);\n    initializeResponses(question_id);\n    const questionContainer = this.getQuestionContainer();\n    const questionInput = questionContainer.querySelector('textarea, input');\n    let text_over_limit = false;\n    let start_time;\n    let t;\n\n    questionInput.addEventListener('input', function (e) {\n        setResponses(question_id, e.target.value);\n        if (text_over_limit) return;\n        if (!start_time) {\n            t = 0;\n            start_time = Date.now();\n        } else {\n            t = Date.now() - start_time;\n        }\n        const new_history = { s: e.target.value, t }\n        const length_of_history = JSON.stringify([...question_history, new_history]).length;\n        if (length_of_history > max_characters_for_history) {\n            text_over_limit = true;\n            return;\n        }\n        question_history.push(new_history);\n        setQuestionHistory(question_id, question_history);\n    });\n\n    questionInput.addEventListener('copy', function (e) {\n        if (text_over_limit) return;\n        if (!start_time) {\n            t = 0;\n            start_time = Date.now();\n        } else {\n            t = Date.now() - start_time;\n        }\n        const selection = window.getSelection().toString();\n        if (!selection) return;\n        const new_history = { s: selection, o: 'c', t }\n        const length_of_history = JSON.stringify([...question_history, new_history]).length;\n        if (length_of_history > max_characters_for_history) {\n            text_over_limit = true;\n            return;\n        }\n        question_history.push(new_history);\n        setQuestionHistory(question_id, question_history);\n    });\n});"}}]}